title: 如何生成道路两旁随机物件
date: 2016-07-31 12:25:20
tags: [游戏,U3D]
category: 游戏
---

<img src="/images/yxdaolu.jpg" class="full-image" />

#### 比如赛车游戏，为了增加游戏的真实性，会需要在道路两旁随机生成一些物件。
#### 这里因为道路两旁道理是一样的，我们只讨论一旁的就可以。
#### 首先我们来考虑物件的分布规律。这个分部线我们可以叫做－基准线。
肯定是在道路旁边，然后可以选用正弦曲线分布。
#### 再来看下道路，道路中间的关节点组成的线，我们叫－中心线。
#### 过关节点，与其前后两个关节点连线垂直的向量叫－断面向量。
#### 都知道正弦曲线有振幅、周期、初相。约定正弦曲线的中间点连线叫－正弦中心线。
这里我们可以设定正弦曲线沿着道路走，正弦中心线和道路的关节点连接线断平行，即关节点和正弦中心线距离固定（暂称为中心线间的距离）。另外可以设定正弦曲线的初相是道路的第一个关节点。
#### 可以设定物件就放在断面向量与正弦曲线的交点－物件点。
#### 物件点求法：
首先关节点我们是知道的，然后断面向量我们也知道，只要在关节点向量的基础上，在断面向量前进若干个距离（暂称物件点距离）即可求得物件点。物件点距离 ＝ 中心线间的距离 + 正弦曲线在关节点处的值。
#### 正弦曲线在关节点处的值求法：
首先正弦曲线一些值是我们设定好的，周期，振幅，初相，我们需要知道的只是普通正弦曲线中的X坐标值。那这里我们都知道正弦曲线沿着道路走，虽然道路是曲折，但仍然可以将在道路上前进的距离作为X值。这样根据正弦公式，这个值便可求得。
#### 另外设定
游戏可能在某些时候需要在物件点间加一些物件点，或多或少。这样其实可以设定一个距离，相当于在关节点间按照这个距离间隔增加一些点，然后来求得对应的物件点，这个求法和前面一样。